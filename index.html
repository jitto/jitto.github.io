<html>
<head><title>Hello</title></head>
<body>
Enter list of words (one in each line) :
<br>
<textarea rows="30" cols="50" id="listOfWords">
test
text
dust
</textarea>
<br>
<button onclick="askWords()">Ask me these words</button>
<table>
  <tr><th>Correct words</th><th>Wrong words</th></tr>
  <tr>
    <td><textarea rows="4" cols="22" id="correct"></textarea></td>
    <td><textarea rows="4" cols="22" id="wrong"></textarea></td>
  </tr>
</table>
</body>
<script>
window.speechSynthesis.speak(new SpeechSynthesisUtterance("Hello There"));

var listOfWords = document.getElementById("listOfWords");
var correct = document.getElementById("correct");
var wrong = document.getElementById("wrong");

function askWords() {
  var allText = listOfWords.value.split("\n");
  listOfWords.value = "";
  correct.value = "";
  wrong.value = "";
  for (var i in allText) {
    var expectedValue = allText[i];
    if (expectedValue.length > 0) {
      askWord(expectedValue);
    }
  }
}

function askWord(expectedValue) {
  var msg = new SpeechSynthesisUtterance(expectedValue);
  var response = null;
  while (response == null) {
    window.speechSynthesis.speak(msg);
    response = window.prompt("Type in spelling or cancel to repeat");
  }
  if (response === expectedValue) {
    correct.value += expectedValue + "\n";
  } else {
    wrong.value += expectedValue + "\n";
  }
  listOfWords.value += expectedValue + "\n";
}
</script>
</html>
