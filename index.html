<html>
<head><title>Hello</title></head>
<body>
Enter list of words (one in each line) :
<br>
<textarea rows="30" cols="80" id="listOfWords">
garrulous
vicinity
wharf
winsome
personnel
melodramatic
deciduous
gauze
boycott
anorak
genteel
force majeure
zealous
basilica
bossa nova
corollary
orwellian
vainglorious
chihuahua
buoyancy
yurt
interlocutor
conglomerate
anemone
echelon
auriferous
WYSIWYG
freesia
susurration
leitmotif
cozen
jai alai
eleemosynary
ecclesiastical
insouciance
Iroquois
cheongsam
</textarea>
<br>
<button onclick="askWords()">Ask me these words</button>
<table>
  <tr><th>Correct words</th><th>Wrong words</th></tr>
  <tr>
    <td><textarea rows="4" cols="38" id="correct"></textarea></td>
    <td><textarea rows="4" cols="38" id="wrong"></textarea></td>
  </tr>
</table>
</div>
</body>
<script>
window.speechSynthesis.speak(new SpeechSynthesisUtterance("Hello There"));

var listOfWords = document.getElementById("listOfWords");
var correct = document.getElementById("correct");
var wrong = document.getElementById("wrong");

function askWords() {
  var allText = listOfWords.value.split("\n");
  listOfWords.style.backgroundColor = "black";
  correct.value = "";
  wrong.value = "";
  while (allText.length > 0) {
    var index = Math.floor((Math.random() * allText.length));
    var expectedValue = allText[index];
    allText.splice(index, 1);
    if (expectedValue.length > 0) {
      var answer = askWord(expectedValue);
      if (answer == null) {
        break;
      }
    }
  }
  listOfWords.style.backgroundColor = "white";
}

function askWord(expectedValue) {
  var msg = new SpeechSynthesisUtterance(expectedValue);
  var response = "";
  while (response === "") {
    window.speechSynthesis.speak(msg);
    response = window.prompt("Type in spelling or press OK to repeat");
  }
  if (response == null) {
    return null;
  } else if (response === expectedValue) {
    correct.value += expectedValue + "\n";
  } else {
    wrong.value += expectedValue + "\n";
  }
}
</script>
</html>
